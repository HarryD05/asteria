{"version":3,"file":"component---src-components-profile-details-js-75abc029f00f44f01483.js","mappings":"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","sources":["webpack://steam-project/./src/components/profileDetails.js","webpack://steam-project/./src/components/profileHelperFunctions.js","webpack://steam-project/./src/assets/profiles/images/PlaceholderProfilePicture1.jpg","webpack://steam-project/./src/assets/profiles/images/PlaceholderProfilePicture2.jpg","webpack://steam-project/./src/assets/profiles/images/ sync ^\\.\\/.*$"],"sourcesContent":["//Import React dependencies\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport Markdown from \"markdown-to-jsx\";\r\n\r\n//Importing constants\r\nimport _ from \"./../constants/constants\";\r\n\r\n//Importing components\r\nimport SEO from \"./seo\";\r\nimport Navbar from \"./navbar\";\r\n\r\n//Importing helpers\r\nimport {ProfileDetailsMapper, ProfileMarkdown, ProfileImage, ProfileName, ProfilePronouns, ProfileRole, ProfileSchool} from './profileHelperFunctions';\r\n\r\nimport { graphql } from \"gatsby\";\r\n\r\nimport \"./../styles/index.scss\";\r\n\r\nconst ProfileDetails = ({ data }) => {\r\n\r\n  const url = typeof window !== 'undefined' ? window.location.href.split(/[?#]/)[0] : '';\r\n\r\n  const [ProfileDetails, setProfileDetails] = useState(null);\r\n  const profileId = url.slice(url.indexOf(\"profiles\") + 9);\r\n\r\n  const profiles = [];\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [profileId]);\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      {\r\n        data.allMarkdownRemark.edges.map(profile => (\r\n          profiles.push(profile.node.frontmatter)\r\n        ))\r\n      }\r\n\r\n      var Profile = {};\r\n      for (var i = 0; i < profiles.length; i++) {\r\n        if (profiles[i].slug.slice(10) === profileId) {\r\n          profiles[i][\"html\"] = data.allMarkdownRemark.edges[i].node.html;\r\n\r\n          Profile[\"profiles\"] = [profiles[i]];\r\n          break;\r\n        }\r\n      }\r\n\r\n      setProfileDetails(ProfileDetailsMapper(Profile));\r\n    })();\r\n  }, [profileId]);\r\n\r\n  return (ProfileDetails ?\r\n    <>\r\n      <SEO seo={{\r\n        ..._.ProfileDetails.SEO,\r\n        title: ProfileName(ProfileDetails),\r\n        image: ProfileImage(ProfileDetails),\r\n        url\r\n      }} />\r\n      <main>\r\n        <Navbar />\r\n        <div className=\"profileDetails\">\r\n          <div className=\"top\">\r\n            <img src={ProfileImage(ProfileDetails)} alt={`profile picture of ${ProfileName(ProfileDetails)}`}></img>\r\n            <div className=\"details\">\r\n              <div className=\"name\">\r\n                <h1>{ProfileName(ProfileDetails)}</h1> \r\n                <p>{ProfilePronouns(ProfileDetails)}</p>\r\n              </div>\r\n              <p>{ProfileSchool(ProfileDetails)}</p>\r\n              <p>{ProfileRole(ProfileDetails)}</p>\r\n            </div>\r\n          </div>\r\n          <Markdown>{ProfileMarkdown(ProfileDetails)}</Markdown>\r\n          <br />\r\n          <p>Content to add: Issues</p>\r\n        </div>\r\n      </main>\r\n    </> : null\r\n  );\r\n};\r\n\r\nexport default ProfileDetails;\r\nexport const pageQuery = graphql`\r\n  query profileQuery1 {\r\n    allMarkdownRemark(\r\n      limit: 1000\r\n      filter: { frontmatter: { type: { eq: \"Profile\" } } }\r\n    ){\r\n      edges{\r\n        node{\r\n          html\r\n          frontmatter {\r\n            first_name\r\n            surname\r\n            school\r\n            pronouns\r\n            role\r\n            slug\r\n            profile_picture\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`","import TurndownService from \"turndown\";\r\n\r\nexport const ProfilesMapper = Profiles =>\r\n  Profiles &&\r\n  Profiles.length &&\r\n  Profiles.map(Profile => ({\r\n    Image: require(`./../assets/profiles/images/${Profile.profile_picture}`).default,\r\n    Name: `${Profile.first_name} ${Profile.surname}`,\r\n    Role: Profile.role,\r\n    LinkTo: Profile.slug,\r\n  }));\r\n\r\nexport const ProfileDetailsMapper = Profile =>\r\n  Profile &&\r\n  Profile.profiles &&\r\n  Profile.profiles[0] && {\r\n    Name: `${Profile.profiles[0].first_name} ${Profile.profiles[0].surname}`,\r\n    Image: require(`./../assets/profiles/images/${Profile.profiles[0].profile_picture}`),\r\n    Role: Profile.profiles[0].role,\r\n    School: Profile.profiles[0].school,\r\n    Pronouns: Profile.profiles[0].pronouns,\r\n    MarkDownContent: new TurndownService().turndown(Profile.profiles[0].html)\r\n  };\r\n\r\nexport const ProfileName = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Name;\r\n  }\r\n}\r\n\r\nexport const ProfilePronouns = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Pronouns;\r\n  }\r\n}\r\n\r\nexport const ProfileRole = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Role;\r\n  }\r\n}\r\n\r\nexport const ProfileSchool = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.School;\r\n  }\r\n}\r\n\r\nexport const ProfileMarkdown = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.MarkDownContent;\r\n  }\r\n}\r\n\r\nexport const ProfileImage = details => {\r\n  if (details === null || details === undefined) {\r\n    return null;\r\n  } else {\r\n    if (details.Image === null || details.Image === undefined || details.Image === \"\") {\r\n      return null;\r\n    } else {\r\n      return details.Image.default;\r\n    }\r\n  }\r\n}","export default __webpack_public_path__ + \"static/PlaceholderProfilePicture1-966d052389d7b445a6d7ff2008497b70.jpg\";","export default __webpack_public_path__ + \"static/PlaceholderProfilePicture2-ba1636afb49dae819a9e8940ba80e4fe.jpg\";","var map = {\n\t\"./PlaceholderProfilePicture1.jpg\": 9676,\n\t\"./PlaceholderProfilePicture2.jpg\": 6057\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7728;"],"names":["data","url","window","location","href","split","useState","ProfileDetails","setProfileDetails","profileId","slice","indexOf","profiles","useEffect","scrollTo","allMarkdownRemark","edges","map","profile","push","node","frontmatter","Profile","i","length","slug","html","ProfileDetailsMapper","seo","_","title","ProfileName","image","ProfileImage","className","src","alt","ProfilePronouns","ProfileSchool","ProfileRole","ProfileMarkdown","ProfilesMapper","Profiles","Image","require","profile_picture","default","Name","first_name","surname","Role","role","LinkTo","School","school","Pronouns","pronouns","MarkDownContent","TurndownService","turndown","details","undefined","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports"],"sourceRoot":""}