{"version":3,"file":"component---src-pages-bibliographies-js-9a462ab222e4444979df.js","mappings":"qHAcA,IAVuB,WACrB,OACE,uBAAKA,UAAU,qBACb,uBAAKA,UAAU,oBAIpB,C,qGCMKC,EAAW,CACf,SAAS,UACT,SAAS,uBACT,OAAS,mBACT,OAAS,aACT,OAAS,QACT,SAAS,cACT,OAAS,0BACT,OAAS,wBACT,SAAS,SAgFX,UA7EyB,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACzB,GAAgCC,EAAAA,EAAAA,UAAS,IAAlCC,EAAP,KAAiBC,EAAjB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,SAASC,KAAKC,UAAY,EAC1BF,SAASG,gBAAgBD,UAAY,CACtC,GAAE,KAEHH,EAAAA,EAAAA,YAAU,WACR,IAAMK,EAAc,GAEpBT,EAAKU,kBAAkBC,MAAMC,SAAQ,SAAAC,GAGjB,aAFlBA,EAAOA,EAAKC,aAEHC,MACPN,EAAYO,KAAKH,EAEpB,IAEDV,EAAYM,EACb,GAAE,CAACT,IAwCJ,OACE,gCACE,gBAAC,IAAD,MACA,wBAAMF,UAAU,oBACd,gBAAC,IAAD,CAAKmB,IAAKC,EAAAA,EAAAA,aAAAA,MAEV,4CA5CgB,WACpB,IAAMC,EAAS,CAAC,EAEhB,GAAwB,IAApBjB,EAASkB,OAAc,OAAO,gBAAC,IAAD,MAElClB,EAASU,SAAQ,SAACS,EAASC,GACzBC,QAAQC,IAAIH,GAEPF,EAAOM,eAAeJ,EAAQK,SACjCP,EAAOE,EAAQK,OAAS,CAAC,GAGH,KAApBL,EAAQM,UAIPR,EAAOE,EAAQK,OAAOD,eAAeJ,EAAQO,WAChDT,EAAOE,EAAQK,OAAOL,EAAQO,SAAW,IAG3CT,EAAOE,EAAQK,OAAOL,EAAQO,SAASZ,KAAK,0BAAI,qBAAGa,KAASR,EAAQS,KAAb,iBAAmCC,OAAO,SAASC,IAAI,cAAcX,EAAQY,SACrI,IAID,IAFA,IAAMC,EAAU,GACVC,EAAYC,OAAOC,KAAKlB,GAAQmB,KAAI,SAAAZ,GAAK,OAAIa,OAAOb,EAAX,IACtCc,EAAIC,KAAKC,IAAL,MAAAD,MAAI,OAAQN,IAAYK,GAAKC,KAAKE,IAAL,MAAAF,MAAI,OAAQN,IAAYK,IAChE,GAAIrB,EAAOM,eAAee,GAAI,CAE5B,IADA,IAAMI,EAAe,GACrB,MAAsBR,OAAOC,KAAKlB,EAAOqB,IAAzC,eAA8C,CAAzC,IAAMZ,EAAO,KAChBgB,EAAa5B,KAAK,uBAAKlB,UAAS,qBAAuB8B,EAAvB,UAAwC,0BAAK7B,EAAS6B,IAAc,0BAAMT,EAAOqB,GAAGZ,GAASU,KAAI,SAAAjB,GAAO,OAAIA,CAAJ,MACzI,CACDa,EAAQlB,KAAK,gCAAE,mCAAWwB,GAAO,uBAAK1C,UAAU,iBAAiB8C,EAAaN,KAAI,SAAAZ,GAAK,OAAIA,CAAJ,MACxF,CAGH,OAAOQ,CACR,CAUMW,IAGH,gBAAC,IAAD,MAGL,C","sources":["webpack://asteria/./src/components/loading.js","webpack://asteria/./src/pages/bibliographies.js"],"sourcesContent":["import React from \"react\";\r\n\r\nimport \"./../styles/index.scss\";\r\n\r\nconst LoadingSpinner = () => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"loading-spinner\">\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default LoadingSpinner;","//Importing React Dependencies\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\n//Importing components\r\nimport Navbar from \"../components/navbar\";\r\nimport Footer from \"../components/footer\";\r\nimport SEO from \"../components/seo\";\r\n\r\nimport LoadingSpinner from \"../components/loading\";\r\n\r\n//Importing constants\r\nimport _ from \"../constants/constants\";\r\n\r\nimport \"./../styles/index.scss\";\r\n\r\nimport { graphql } from 'gatsby';\r\n\r\nconst subjects = {\r\n  \"2BB760\": `Biochem`,\r\n  \"9C2111\": `Physics & Technology`,\r\n  \"BFAA34\": `Econ &  Business`,\r\n  \"C8792C\": `Humanities`,\r\n  \"622058\": `Music`,\r\n  \"376B70\": `Art & Media`,\r\n  \"AF70BD\": `Literature & Philosophy`,\r\n  \"ACADED\": `Politics & Philosophy`,\r\n  \"3E5FCA\": `Maths`,\r\n}\r\n\r\nconst BibliographyPage = ({data}) => {\r\n  const [articles, setArticles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    document.body.scrollTop = 0; // For Safari\r\n    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const articleList = [];\r\n\r\n    data.allMarkdownRemark.nodes.forEach(info => {\r\n      info = info.frontmatter;\r\n\r\n      if (info.type === \"Article\") {\r\n        articleList.push(info);\r\n      } \r\n    })\r\n\r\n    setArticles(articleList);\r\n  }, [data])\r\n\r\n  const displayIssues = () => {\r\n    const issues = {};\r\n\r\n    if (articles.length === 0) return <LoadingSpinner />;\r\n\r\n    articles.forEach((article, index) => {\r\n      console.log(article)\r\n\r\n      if (!issues.hasOwnProperty(article.issue)) {\r\n        issues[article.issue] = {};\r\n      }\r\n\r\n      if (article.Subject === \"\") {\r\n        return;\r\n      }\r\n\r\n      if (!issues[article.issue].hasOwnProperty(article.subject)) {\r\n        issues[article.issue][article.subject] = [];\r\n      }\r\n\r\n      issues[article.issue][article.subject].push(<li><a href={`${article.slug}/#bibliography`} target=\"_blank\" rel=\"noreferrer\">{article.title}</a></li>)\r\n    })\r\n\r\n    const content = [];\r\n    const issueKeys = Object.keys(issues).map(issue => Number(issue));\r\n    for (let i = Math.min(...issueKeys); i <= Math.max(...issueKeys); i++) {\r\n      if (issues.hasOwnProperty(i)) {\r\n        const issueContent = [];\r\n        for (const subject of Object.keys(issues[i])) {\r\n          issueContent.push(<div className={`subjectArticles bg${subject}-light`}><h3>{subjects[subject]}</h3><ul >{issues[i][subject].map(article => article)}</ul></div>)\r\n        }\r\n        content.push(<><h2>Issue {i}</h2><div className=\"issueArticles\">{issueContent.map(issue => issue)}</div></>)\r\n      }\r\n      \r\n    }\r\n    return content;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main className=\"BibliographyPage\">\r\n        <SEO seo={_.Bibliography.SEO} />\r\n\r\n        <h1>Bibliographies</h1>\r\n\r\n        {displayIssues()}\r\n\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default BibliographyPage;\r\n\r\nexport const pageQuery = graphql`\r\nquery articleQuery4{\r\n  allMarkdownRemark{\r\n    nodes{\r\n      frontmatter {\r\n        type\r\n        title\r\n        subject\r\n        slug\r\n        issue\r\n      }\r\n    }\r\n  }\r\n}\r\n`"],"names":["className","subjects","data","useState","articles","setArticles","useEffect","document","body","scrollTop","documentElement","articleList","allMarkdownRemark","nodes","forEach","info","frontmatter","type","push","seo","_","issues","length","article","index","console","log","hasOwnProperty","issue","Subject","subject","href","slug","target","rel","title","content","issueKeys","Object","keys","map","Number","i","Math","min","max","issueContent","displayIssues"],"sourceRoot":""}