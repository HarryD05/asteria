{"version":3,"file":"component---src-components-articles-article-details-js-1affa41f8e3630aa0a49.js","mappings":"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","sources":["webpack://asteria/./src/components/articles/articleDetails.js"],"sourcesContent":["//Import React dependencies\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { MDXRenderer } from 'gatsby-plugin-mdx'\r\n\r\n//Importing constants\r\nimport _ from \"../../constants/constants\";\r\n\r\n//Importing components\r\nimport SEO from \"../seo\";\r\nimport Navbar from \"../navbar\";\r\nimport Footer from \"../footer\";\r\n\r\n//Importing helpers\r\nimport {\r\n  ArticleDescription, ArticleDetailsMapper, ArticleImage, ArticleMarkdown, ArticleSubject, ArticleTitle, VideoURL, VideoTitle,\r\n  AuthorNames, AuthorLinkTos, AuthorImages, AuthorPronouns\r\n} from './articleHelperFunctions';\r\n\r\nimport { graphql } from \"gatsby\";\r\n\r\nimport \"./../../styles/index.scss\";\r\nimport \"katex/dist/katex.min.css\";\r\n\r\nconst subjects = {\r\n  '2BB760': `Biochem`,\r\n  '9C2111': `Physics & Technology`,\r\n  'BFAA34': `Econ &  Business`,\r\n  'C8792C': `Humanities`,\r\n  '622058': `Music`,\r\n  '376B70': `Art & Media`,\r\n  'AF70BD': `Literature & Philosophy`,\r\n  'ACADED': `Politics & Philosophy`,\r\n  '3E5FCA': `Maths`,\r\n}\r\n\r\n\r\nconst ArticleDetails = ({ data }) => {\r\n\r\n  const url = typeof window !== 'undefined' ? window.location.href.split(/[?#]/)[0] : '';\r\n\r\n  const [ArticleDetails, setArticleDetails] = useState(null);\r\n  let articleId = url.slice(url.indexOf(\"articles\") + 9);\r\n\r\n  if (articleId[articleId.length - 1] === '/') {\r\n    articleId = articleId.slice(0, articleId.length - 1);\r\n  }\r\n\r\n  const articles = [];\r\n  const authors = {};\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [articleId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      {\r\n        data.allMarkdownRemark.nodes.forEach((info, index) => {\r\n          info = info.frontmatter;\r\n\r\n          if (info.type === \"Article\") {\r\n            articles.push({...info, index});\r\n          } else if (info.type === \"Profile\") {\r\n            authors[info.userID] = info;\r\n          }\r\n        })\r\n\r\n        articles.forEach(article => {\r\n          const authorList = [];\r\n          article.userIDs.forEach(ID => {\r\n            authorList.push(authors[ID])\r\n          })\r\n          article.authors = authorList;\r\n        })\r\n      }\r\n\r\n      const Article = {};\r\n      for (let i = 0; i < articles.length; i++) {\r\n        if (articles[i].slug.slice(10) === articleId) {\r\n          articles[i][\"html\"] = data.allMarkdownRemark.nodes[articles[i].index].html;\r\n\r\n          Article[\"articles\"] = [articles[i]];\r\n          break;\r\n        }\r\n      }\r\n\r\n      setArticleDetails(ArticleDetailsMapper(Article));\r\n    })();\r\n  }, [articleId]);\r\n\r\n  const changePage = () => {\r\n    window.localStorage.setItem('hash', ArticleSubject(ArticleDetails))\r\n  }\r\n\r\n  const image = () => (typeof(ArticleImage(ArticleDetails)) === \"string\") ? ArticleImage(ArticleDetails) : ArticleImage(ArticleDetails).default;\r\n\r\n  const authorImages = () => {\r\n    const result = [];\r\n    for (let i = 0; i < AuthorNames(ArticleDetails).length; i++) {\r\n      result.push(<div className=\"author\">\r\n        <a className=\"authorImg\" href={AuthorLinkTos(ArticleDetails)[i]}>\r\n          <img\r\n            src={(typeof (AuthorImages(ArticleDetails)[i]) === \"string\") ? AuthorImages(ArticleDetails)[i] : AuthorImages(ArticleDetails)[i].default}\r\n            alt={`Profile picture of ${AuthorNames(ArticleDetails)[i]}`}\r\n          ></img>\r\n        </a>\r\n        <div className=\"authorDetails\">\r\n          <a className=\"name\" href={AuthorLinkTos(ArticleDetails)[i]}>{AuthorNames(ArticleDetails)[i]}</a><br />\r\n          <a className=\"pronouns\" href={AuthorLinkTos(ArticleDetails)[i]}>{AuthorPronouns(ArticleDetails)[i]}</a>\r\n        </div>\r\n      </div>)\r\n\r\n    }\r\n    return result;\r\n  }\r\n\r\n  const authorLinks = () => {\r\n    const result = [];\r\n    for (let i = 0; i < AuthorNames(ArticleDetails).length; i++) {\r\n      result.push(<div className=\"authorDetails\">\r\n        <a className=\"name\" href={AuthorLinkTos(ArticleDetails)[i]}>{AuthorNames(ArticleDetails)[i]}</a><br />\r\n        <a className=\"pronouns\" href={AuthorLinkTos(ArticleDetails)[i]}>{AuthorPronouns(ArticleDetails)[i]}</a>\r\n      </div>)\r\n    }\r\n    return result;\r\n  }\r\n\r\n  const displayVideo = () => {\r\n    const Video = {URL: VideoURL(ArticleDetails), Title: VideoTitle(ArticleDetails)}\r\n\r\n    if (Video.URL !== null) {\r\n      return <div className=\"video_container\">\r\n        <iframe\r\n          src={Video.URL}\r\n          title={Video.Title}\r\n          allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n          frameBorder=\"0\"\r\n          webkitallowfullscreen=\"true\"\r\n          mozallowfullscreen=\"true\"\r\n          allowFullScreen\r\n        />\r\n      </div>\r\n    }\r\n  }\r\n\r\n  return (ArticleDetails ?\r\n    <>\r\n      <SEO seo={{\r\n        ..._.ArticleDetails.SEO,\r\n        title: `Asteria | ${ArticleTitle(ArticleDetails)}`,\r\n        image: ArticleImage(ArticleDetails),\r\n        url\r\n      }} />\r\n      <main>\r\n        <Navbar />\r\n        <div className=\"coverImage\" style={{'backgroundImage': `url('${image()}')`}}></div>\r\n        <div className=\"articleDetails\">\r\n          <a className={`subject-hover bg${ArticleSubject(ArticleDetails)}-light`} href={`/categories`} onClick={changePage}>\r\n            <p>{`${subjects[ArticleSubject(ArticleDetails)]}`}</p>\r\n          </a>\r\n\r\n          <div className=\"top\">      \r\n            <div className=\"authors\">{authorImages()}</div>   \r\n            <div className=\"details\">\r\n              <h1>{ArticleTitle(ArticleDetails)}</h1> \r\n              <p>{ArticleDescription(ArticleDetails)}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`content a${ArticleSubject(ArticleDetails)}`} dangerouslySetInnerHTML={{__html: ArticleMarkdown(ArticleDetails) }}></div>\r\n          \r\n          {displayVideo()}\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </> : null\r\n  );\r\n};\r\n\r\n//<Markdown className={`content a${ArticleSubject(ArticleDetails)}`}>{ArticleMarkdown(ArticleDetails)}</Markdown>\r\n\r\nexport default ArticleDetails;\r\nexport const pageQuery = graphql`\r\n  query articleQuery1 {\r\n    allMarkdownRemark{\r\n      nodes{\r\n        html\r\n        frontmatter {\r\n          type\r\n          title\r\n          description\r\n          subject\r\n          issue\r\n          slug\r\n          preview_image\r\n          userIDs\r\n          first_name\r\n          surname\r\n          pronouns\r\n          school\r\n          profile_picture\r\n          video_url\r\n          video_title\r\n          userID\r\n        }\r\n        \r\n      }\r\n    }\r\n  }\r\n`\r\n\r\n\r\n\r\n/*\r\n<main>\r\n        <Navbar />\r\n        <div className=\"articleDetails\">\r\n          <a className={`subject-hover bg${ArticleSubject(ArticleDetails)}-light`} href={`/categories`} onClick={changePage}>\r\n            <p>{`${subjects[ArticleSubject(ArticleDetails)]}`}</p>\r\n          </a>\r\n\r\n          <div className=\"top\">\r\n            <img \r\n              src={(typeof(ArticleImage(ArticleDetails)) === \"string\") ? ArticleImage(ArticleDetails) : ArticleImage(ArticleDetails).default} \r\n              alt={`Cover image of ${ArticleTitle(ArticleDetails)}`}>\r\n            </img>\r\n            <div className=\"details\">\r\n              <h1>{ArticleTitle(ArticleDetails)}</h1> \r\n              <p>{ArticleDescription(ArticleDetails)}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <a href={AuthorLinkTo(ArticleDetails)} className=\"author\">\r\n            <div className=\"authorDetails\">\r\n              <h3>{AuthorName(ArticleDetails)}</h3>\r\n              <i>{AuthorPronouns(ArticleDetails)}</i>\r\n              <p>{AuthorSchool(ArticleDetails)}</p>\r\n            </div>\r\n            <div className=\"authorImg\">\r\n              <img \r\n              src={(typeof(AuthorImage(ArticleDetails)) === \"string\") ? AuthorImage(ArticleDetails) : AuthorImage(ArticleDetails).default} \r\n              alt={`Profile picture of ${AuthorName(ArticleDetails)}`}>\r\n            </img>\r\n            </div>\r\n          </a>\r\n\r\n          <Markdown className=\"content\">{ArticleMarkdown(ArticleDetails)}</Markdown>\r\n        </div>\r\n      </main>\r\n      */"],"names":["subjects","data","url","window","location","href","split","useState","ArticleDetails","setArticleDetails","articleId","slice","indexOf","length","articles","authors","useEffect","scrollTo","allMarkdownRemark","nodes","forEach","info","index","frontmatter","type","push","userID","article","authorList","userIDs","ID","Article","i","slug","html","ArticleDetailsMapper","seo","_","title","ArticleTitle","image","ArticleImage","className","style","default","ArticleSubject","onClick","localStorage","setItem","result","AuthorNames","AuthorLinkTos","src","AuthorImages","alt","AuthorPronouns","authorImages","ArticleDescription","dangerouslySetInnerHTML","__html","ArticleMarkdown","Video","URL","VideoURL","Title","VideoTitle","allow","frameBorder","webkitallowfullscreen","mozallowfullscreen","allowFullScreen","displayVideo"],"sourceRoot":""}