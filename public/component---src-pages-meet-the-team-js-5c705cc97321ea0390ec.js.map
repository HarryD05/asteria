{"version":3,"file":"component---src-pages-meet-the-team-js-5c705cc97321ea0390ec.js","mappings":"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","sources":["webpack://asteria/./src/components/profiles/profileHelperFunctions.js","webpack://asteria/./src/components/profiles/profilePreview.js","webpack://asteria/./src/pages/meet-the-team.js","webpack://asteria/./src/assets/profiles/images/ sync ^\\.\\/.*\\.png$"],"sourcesContent":["import TurndownService from \"turndown\";\r\n\r\nexport const ProfilesMapper = Profiles =>\r\n  Profiles &&\r\n  Profiles.length &&\r\n  Profiles.map(Profile => ({\r\n    Image: require(`./../../assets/profiles/images/${Profile.profile_picture}`),\r\n    Name: `${Profile.first_name} ${Profile.surname}`,\r\n    Role: Profile.role,\r\n    LinkTo: Profile.slug,\r\n  }));\r\n\r\nexport const ProfileDetailsMapper = Profile =>\r\n  Profile &&\r\n  Profile.profiles &&\r\n  Profile.profiles[0] && {\r\n    Name: `${Profile.profiles[0].first_name} ${Profile.profiles[0].surname}`,\r\n    Image: require(`./../../assets/profiles/images/${Profile.profiles[0].profile_picture}`),\r\n    Role: Profile.profiles[0].role,\r\n    School: Profile.profiles[0].school,\r\n    Pronouns: Profile.profiles[0].pronouns,\r\n    SchoolImage: require(`./../../assets/profiles/images/${Profile.profiles[0].school}.png`),\r\n    MarkDownContent: new TurndownService().turndown(Profile.profiles[0].html)\r\n  };\r\n\r\nexport const ProfileName = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Name;\r\n  }\r\n}\r\n\r\nexport const ProfilePronouns = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Pronouns;\r\n  }\r\n}\r\n\r\nexport const ProfileRole = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Role;\r\n  }\r\n}\r\n\r\nexport const ProfileSchool = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.School;\r\n  }\r\n}\r\n\r\nexport const ProfileMarkdown = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.MarkDownContent;\r\n  }\r\n}\r\n\r\nexport const ProfileImage = details => {\r\n  if (details === null || details === undefined) {\r\n    return null;\r\n  } else {\r\n    if (details.Image === null || details.Image === undefined || details.Image === \"\") {\r\n      return null;\r\n    } else {\r\n      return details.Image;\r\n    }\r\n  }\r\n}\r\n\r\nexport const SchoolImage = details => {\r\n  if (details === null || details === undefined) {\r\n    return null;\r\n  } else {\r\n    if (details.SchoolImage === null || details.SchoolImage === undefined || details.SchoolImage === \"\") {\r\n      return null;\r\n    } else {\r\n      return details.SchoolImage;\r\n    }\r\n  }\r\n}","//Import React dependencies\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\n\r\n//Importing constants\r\nimport _ from \"./../../constants/constants\";\r\n\r\nimport \"./../../styles/index.scss\";\r\n\r\nconst ProfilePreview = ({ Image, Name, Role, LinkTo }) => { \r\n  return (\r\n    <div className=\"profilePreview\">\r\n      <a href={LinkTo}>\r\n        <img \r\n          src={(typeof(Image) === \"string\") ? Image : Image.default} \r\n          alt={`profile picture of ${Name}`}>\r\n        </img>\r\n        <div className=\"details\">\r\n          <h2>{Name}</h2> \r\n          <p>{Role.join(', ')}</p>\r\n        </div>\r\n      </a>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ProfilePreview;","//Importing React Dependencies\r\nimport React, {useState, useEffect} from \"react\"\r\n\r\n//Importing constants\r\nimport _ from './../constants/constants';\r\n\r\n//Importing components\r\nimport Navbar from \"./../components/navbar\";\r\nimport Footer from \"./../components/footer\";\r\nimport SEO from './../components/seo';\r\nimport ProfilePreview from \"./../components/profiles/profilePreview\";\r\n\r\n//Importing helpers\r\nimport {ProfilesMapper} from './../components/profiles/profileHelperFunctions';\r\n\r\nimport { graphql } from \"gatsby\";\r\n\r\nimport './../styles/index.scss';\r\n\r\nconst MeetTheTeamPage = ({data}) => {\r\n  const [selected, setSelected] = useState({\r\n    editor: true, designer: true, writer: true, 'co-ordinator': true\r\n  });\r\n  const [profiles, setProfiles] = useState([])\r\n\r\n  useEffect(() => {\r\n    const profileList = [];\r\n    data.allMarkdownRemark.edges.forEach(profile => {\r\n      profile = profile.node.frontmatter;\r\n\r\n      let display = false;\r\n      Object.keys(selected).forEach(key => {\r\n        profile.role.forEach(role => {\r\n          if (selected[key] && role.toLowerCase() === key) {\r\n            display = true;\r\n          }\r\n        })\r\n      })\r\n\r\n      if (display) {\r\n        profileList.push(profile);\r\n      } \r\n    })\r\n    setProfiles(profileList);\r\n  }, [selected])\r\n\r\n  const displayProfiles = () => {\r\n    if (profiles.length > 0) {\r\n      return ProfilesMapper(profiles).map((profile, index) => {\r\n        return <ProfilePreview \r\n          key={index} \r\n          Name={profile.Name}\r\n          Role={profile.Role}\r\n          Image={profile.Image}\r\n          LinkTo={profile.LinkTo}\r\n          Subject={profile.Subject}\r\n        />\r\n      });\r\n    } else {\r\n      return <p>No profiles...</p>\r\n    }\r\n  }\r\n\r\n  const changeSelector = e => {\r\n    const role = e.target.value;\r\n    setSelected({\r\n      ...selected,\r\n      [role]: !selected[role]\r\n    })\r\n  }\r\n\r\n  const getClass = role => {\r\n    return (selected[role] ? 'shown' : 'hidden')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main className=\"MTT\">\r\n        <SEO seo={_.MeetTheTeam.SEO} />\r\n\r\n        <h1>Meet the Team</h1>\r\n        \r\n        <div className=\"selector\">\r\n          <button className={getClass(\"writer\")} onClick={changeSelector} value=\"writer\">Writers</button>\r\n          <button className={getClass(\"editor\")} onClick={changeSelector} value=\"editor\">Editors</button>\r\n          <button className={getClass(\"designer\")} onClick={changeSelector} value=\"designer\">Designers</button>\r\n          <button className={getClass(\"co-ordinator\")} onClick={changeSelector} value=\"co-ordinator\">Co-ordinator</button>\r\n        </div>\r\n\r\n        <div className=\"profiles\">\r\n          {displayProfiles()}\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MeetTheTeamPage;\r\nexport const pageQuery = graphql`\r\nquery profileQuery2{\r\n  allMarkdownRemark(\r\n    filter: { frontmatter: { type: { eq: \"Profile\" } } }\r\n  ){\r\n    edges{\r\n      node{\r\n        frontmatter {\r\n          first_name\r\n          surname\r\n          role\r\n          profile_picture\r\n          slug\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`","var map = {\n\t\"./Kendrick School.png\": 1866,\n\t\"./Reading School.png\": 1053\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7305;"],"names":["ProfilesMapper","Profiles","length","map","Profile","Image","require","profile_picture","Name","first_name","surname","Role","role","LinkTo","slug","ProfileDetailsMapper","profiles","School","school","Pronouns","pronouns","SchoolImage","MarkDownContent","TurndownService","turndown","html","ProfileName","details","ProfilePronouns","ProfileRole","ProfileSchool","ProfileMarkdown","ProfileImage","undefined","className","href","src","default","alt","join","data","useState","editor","designer","writer","selected","setSelected","setProfiles","useEffect","profileList","allMarkdownRemark","edges","forEach","profile","node","frontmatter","display","Object","keys","key","toLowerCase","push","changeSelector","e","target","value","getClass","seo","_","onClick","index","Subject","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","Error","code","resolve","module","exports"],"sourceRoot":""}