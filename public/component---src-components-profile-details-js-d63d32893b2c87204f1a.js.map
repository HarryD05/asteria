{"version":3,"file":"component---src-components-profile-details-js-d63d32893b2c87204f1a.js","mappings":"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","sources":["webpack://steam-project/./src/components/articlePreview.js","webpack://steam-project/./src/components/profileDetails.js","webpack://steam-project/./src/components/profileHelperFunctions.js","webpack://steam-project/./src/assets/profiles/images/PlaceholderProfilePicture1.jpg","webpack://steam-project/./src/assets/profiles/images/PlaceholderProfilePicture2.jpg","webpack://steam-project/./src/assets/profiles/images/ sync ^\\.\\/.*$"],"sourcesContent":["//Import React dependencies\r\nimport React from \"react\";\r\n\r\n//Importing constants\r\nimport _ from \"./../constants/constants\";\r\n\r\nimport \"./../styles/index.scss\";\r\n\r\nconst ArticlePreview = ({ Image, Subject, Title, Author, LinkTo, includeAuthor=true }) => { \r\n  return (\r\n    <div className={`articlePreview bg${Subject}-light`}>\r\n      <a href={LinkTo}>\r\n        <img \r\n          src={(typeof(Image) === \"string\") ? Image : Image.default} \r\n          alt={`Preview picture for article: ${Title}`}>\r\n        </img>\r\n        <div className=\"details\">\r\n          <h2>{Title}</h2> \r\n          {includeAuthor ? <p>{Author}</p> : <p></p>}\r\n        </div>\r\n      </a>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ArticlePreview;","//Import React dependencies\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport Markdown from \"markdown-to-jsx\";\r\n\r\n//Importing constants\r\nimport _ from \"./../constants/constants\";\r\n\r\n//Importing components\r\nimport SEO from \"./seo\";\r\nimport Navbar from \"./navbar\";\r\n\r\n//Importing helpers\r\nimport {ProfileDetailsMapper, ProfileMarkdown, ProfileImage, ProfileName, ProfilePronouns, ProfileRole, ProfileSchool} from './profileHelperFunctions';\r\nimport {ArticleDetailsMapper} from './articleHelperFunctions';\r\n\r\nimport { graphql } from \"gatsby\";\r\n\r\nimport \"./../styles/index.scss\";\r\nimport ArticlePreview from \"./articlePreview\";\r\n\r\nconst ProfileDetails = ({ data }) => {\r\n\r\n  const url = typeof window !== 'undefined' ? window.location.href.split(/[?#]/)[0] : '';\r\n\r\n  const [ProfileDetails, setProfileDetails] = useState(null);\r\n  const [ArticlesDetails, setArticlesDetails] = useState([]);\r\n  let profileId = url.slice(url.indexOf(\"profiles\") + 9);\r\n\r\n  if (profileId[profileId.length - 1] === '/') {\r\n    profileId = profileId.slice(0, profileId.length - 1);\r\n  }\r\n\r\n  const profiles = [];\r\n  const articles = [];\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [profileId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      {\r\n        data.allMarkdownRemark.edges.map((info, index) => {\r\n          if (info.node.frontmatter.type === \"Profile\") {\r\n            profiles.push({...info.node.frontmatter, index})\r\n          } else {\r\n            if (info.node.frontmatter.userID === profileId) {\r\n              articles.push({...info.node.frontmatter, index})\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n      let Profile = {};\r\n      for (let i = 0; i < profiles.length; i++) {\r\n        if (profiles[i].slug.slice(10) === profileId) {\r\n          profiles[i][\"html\"] = data.allMarkdownRemark.edges[profiles[i].index].node.html;\r\n\r\n          Profile[\"profiles\"] = [profiles[i]];\r\n          break;\r\n        }\r\n      }\r\n\r\n      const ArticleList = articles.map(article => ArticleDetailsMapper({\"articles\": [article]}, false));\r\n      setArticlesDetails([...ArticlesDetails, ...ArticleList])\r\n\r\n      setProfileDetails(ProfileDetailsMapper(Profile));\r\n    })();\r\n  }, [profileId]);\r\n\r\n  const createIssues = () => {\r\n    if (ArticlesDetails.length === 0) return <p>No articles...</p>\r\n    \r\n    const issues = {};\r\n\r\n    ArticlesDetails.forEach((article, index) => {\r\n      if (!issues.hasOwnProperty(article.Issue)) {\r\n        issues[article.Issue] = [];\r\n      } \r\n\r\n      issues[article.Issue].push(<ArticlePreview \r\n        key={index} Image={article.Image} Title={article.Title} Author={article.Author} LinkTo={article.LinkTo} Subject={article.Subject} includeAuthor={false}\r\n      />)\r\n    })\r\n\r\n    let content = [];\r\n    for (let i = 1; i <= Object.keys(issues).length; i++) {\r\n      content.push(<div key={i}><h3>Issue {i}</h3><div className=\"issue-articles\">{issues[i].map(article => article)}</div></div>)\r\n    }\r\n\r\n    return content;\r\n  }\r\n\r\n  return (ProfileDetails ?\r\n    <>\r\n      <SEO seo={{\r\n        ..._.ProfileDetails.SEO,\r\n        title: `STEAM Project | ${ProfileName(ProfileDetails)}`,\r\n        image: ProfileImage(ProfileDetails),\r\n        url\r\n      }} />\r\n      <main className=\"profileDetails\">\r\n        <Navbar />\r\n        <div className=\"details\">\r\n          <div className=\"top\">\r\n            {console.log(ProfileImage(ProfileDetails))}\r\n            {console.log(typeof(ProfileImage(ProfileDetails)))}\r\n            <img \r\n              src={(typeof(ProfileImage(ProfileDetails)) === \"string\") ? ProfileImage(ProfileDetails) : ProfileImage(ProfileDetails).default} \r\n              alt={`profile picture of ${ProfileName(ProfileDetails)}`}>\r\n            </img>\r\n            <div className=\"details\">\r\n              <div className=\"name\">\r\n                <h1>{ProfileName(ProfileDetails)}</h1> \r\n                <p>{ProfilePronouns(ProfileDetails)}</p>\r\n              </div>\r\n              <p>{ProfileSchool(ProfileDetails)}</p>\r\n              <p>{ProfileRole(ProfileDetails)}</p>\r\n            </div>\r\n          </div>\r\n          <Markdown className=\"content\">{ProfileMarkdown(ProfileDetails)}</Markdown>\r\n        </div>\r\n        <div className=\"article-list\">\r\n          <h2>Articles</h2>\r\n          <div className=\"issues\">\r\n            {createIssues()}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </> : null\r\n  );\r\n};\r\n\r\nexport default ProfileDetails;\r\nexport const pageQuery = graphql`\r\n  query profileQuery1 {\r\n    allMarkdownRemark(\r\n      limit: 1000\r\n    ){\r\n      edges{\r\n        node{\r\n          html\r\n          frontmatter {\r\n            type\r\n            first_name\r\n            surname\r\n            school\r\n            pronouns\r\n            role\r\n            slug\r\n            profile_picture\r\n            title\r\n            subject\r\n            userID\r\n            articleID\r\n            preview_image\r\n            issue\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`","import TurndownService from \"turndown\";\r\n\r\nexport const ProfilesMapper = Profiles =>\r\n  Profiles &&\r\n  Profiles.length &&\r\n  Profiles.map(Profile => ({\r\n    Image: require(`./../assets/profiles/images/${Profile.profile_picture}`),\r\n    Name: `${Profile.first_name} ${Profile.surname}`,\r\n    Role: Profile.role,\r\n    LinkTo: Profile.slug,\r\n  }));\r\n\r\nexport const ProfileDetailsMapper = Profile =>\r\n  Profile &&\r\n  Profile.profiles &&\r\n  Profile.profiles[0] && {\r\n    Name: `${Profile.profiles[0].first_name} ${Profile.profiles[0].surname}`,\r\n    Image: require(`./../assets/profiles/images/${Profile.profiles[0].profile_picture}`),\r\n    Role: Profile.profiles[0].role,\r\n    School: Profile.profiles[0].school,\r\n    Pronouns: Profile.profiles[0].pronouns,\r\n    MarkDownContent: new TurndownService().turndown(Profile.profiles[0].html)\r\n  };\r\n\r\nexport const ProfileName = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Name;\r\n  }\r\n}\r\n\r\nexport const ProfilePronouns = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Pronouns;\r\n  }\r\n}\r\n\r\nexport const ProfileRole = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.Role;\r\n  }\r\n}\r\n\r\nexport const ProfileSchool = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.School;\r\n  }\r\n}\r\n\r\nexport const ProfileMarkdown = details => {\r\n  if (details === null || details === undefined) {\r\n    return '';\r\n  } else {\r\n    return details.MarkDownContent;\r\n  }\r\n}\r\n\r\nexport const ProfileImage = details => {\r\n  if (details === null || details === undefined) {\r\n    return null;\r\n  } else {\r\n    if (details.Image === null || details.Image === undefined || details.Image === \"\") {\r\n      return null;\r\n    } else {\r\n      return details.Image;\r\n    }\r\n  }\r\n}","export default __webpack_public_path__ + \"static/PlaceholderProfilePicture1-966d052389d7b445a6d7ff2008497b70.jpg\";","export default __webpack_public_path__ + \"static/PlaceholderProfilePicture2-ba1636afb49dae819a9e8940ba80e4fe.jpg\";","var map = {\n\t\"./PlaceholderProfilePicture1.jpg\": 9676,\n\t\"./PlaceholderProfilePicture2.jpg\": 6057\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7728;"],"names":["Image","Subject","Title","Author","LinkTo","includeAuthor","className","href","src","default","alt","data","url","window","location","split","useState","ProfileDetails","setProfileDetails","ArticlesDetails","setArticlesDetails","profileId","slice","indexOf","length","profiles","articles","useEffect","scrollTo","allMarkdownRemark","edges","map","info","index","node","frontmatter","type","push","userID","Profile","i","slug","html","ArticleList","article","ArticleDetailsMapper","ProfileDetailsMapper","seo","_","title","ProfileName","image","ProfileImage","console","log","ProfilePronouns","ProfileSchool","ProfileRole","ProfileMarkdown","issues","forEach","hasOwnProperty","Issue","key","content","Object","keys","createIssues","ProfilesMapper","Profiles","require","profile_picture","Name","first_name","surname","Role","role","School","school","Pronouns","pronouns","MarkDownContent","TurndownService","turndown","details","undefined","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","resolve","module","exports"],"sourceRoot":""}